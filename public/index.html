<!Doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="application-name" content="contest-logger">
	<meta name="author" content="Onno (VK6FLAB)">
	<meta name="description" content="Extensible, cross-platform, contest logger for amateur radio.">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#ffffff"/>
	<title>Contest Logger</title>
	<link rel="stylesheet" type="text/css" href="css/pico.min.css" title="Default">
	<link rel="alternate stylesheet" type="text/css" href="css/horizontal.css" title="Horizontal" />
<!--
	<link rel="stylesheet" type="text/css" href="css/pico.docs.min.css">
-->
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel='manifest' href='manifest.json'>
	<link rel="icon" type="image/x-icon" href="icons/favicon.ico">
	<link rel="apple-touch-icon" sizes="180x180" href="icons/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="icons/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="icons/favicon-16x16.png">
	<script type="text/javascript">
		if ('serviceWorker' in navigator) {
			window.addEventListener('load', function() {
				navigator.serviceWorker.register('./serviceWorker.js',{scope: './'});
			});
		}
	</script>
</head>
</html>
<body>
	<header>
		<nav>
<!--
//fixme: This needs to collapse on a small screen
-->
<!--
//fixme: this causes the body to be too wide
			<ul>
				<li>Contest Logger Branding</li>
			</ul>
-->
			<ul>
				<li data-target="about-box" onClick="toggleModal(event)">About</li>
				<li onClick="exportLog()">Export</li>
				<li data-target="preferences" onClick="toggleModal(event)">Preferences</li>
				<li>
					<select id="theme" onchange="switchTheme.call(this, event)">
						<option>Default</option>
						<option>Horizontal</option>
					</select>
				</li>
			</ul>
		</nav>
	</header>
	<main class="grid">
		<article>
<!--
//fixme: This needs to deal with small screens
-->
			<form id="logForm" onsubmit="event.preventDefault();add_log_entry(this);" novalidate>
				<div class="grid">
					<label>Date:
						<input type="date" name="date">
					</label>

					<label>UTC:
						<input type="time" name="utc" step="1">
					</label>
				</div>

				<label>Call:
					<input type="text" name="call" pattern="[a-zA-Z0-9/]+" required>
				</label>

				<div class="grid">
					<label>Band:
<!--
//fixme: This needs to use the station preferences
-->
						<select name="band">
							<option>160m</option>
							<option>80m</option>
							<option>40m</option>
							<option>20m</option>
							<option>15m</option>
							<option>10m</option>
							<option>6m</option>
							<option>2m</option>
							<option>70cm</option>
							<option>23cm</option>
						</select>
					</label>

					<label>Mode:
						<select name="mode">
							<option>Phone</option>
							<option>Digital</option>
						</select>
					</label>
				</div>

				<div class="grid">
					<label>TX(RST):
						<input type="text" name="tx" placeholder="59001">
					</label>

					<label>RX(RST):
						<input type="text" name="rx">
					</label>
				</div>

				<label>Name:
					<input type="text" name="name">
				</label>

				<label>Locator:
					<input type="text" name="locator">
				</label>

				<label>Remarks:
					<input type="text" name="remarks">
				</label>

				<div class="grid">
					<button class="secondary" type="reset">Clear</button>
					<button>Log</button>
				</div>
			</form>
			<aside>
				
			</aside>
		</article>
		<aside>
<!--
//fixme: This needs to deal with small screens
-->
			<section>
				<h2>JMMFD</h2>
				<figure>
<!--
//fixme: This needs to scroll vertically as appropriate
//fixme: This needs to support multiple logs in the same screen location
//fixme: This needs to be set up dynamically to deal with different requirements
-->
					<table name="jmmfd" id="current_log" role="grid">
						<thead>
							<tr>
								<th>#</th>
								<th>Date</th>
								<th>UTC</th>
								<th>Call</th>
								<th>Band</th>
								<th>Mode</th>
								<th>TX</th>
								<th>RX</th>
								<th>Name</th>
								<th>Locator</th>
								<th>Remarks</th>
							</tr>
						</thead>
						<tbody>
						</tbody>
					</table>
				</figure>
			</section>
		</aside>
	</main>
	<dialog id="about-box" close>
		<article>
			<header>
				<a href="#close" aria-label="Close" class="close" data-target="about-box" onClick="toggleModal(event)"></a>
				<h1>About Contest Logger</h1>
				<p>
					This is a minimum viable product demonstration, 
					one step above drawing on a piece of paper. 
					You should not rely on it to accurately do anything. 
					If you find issues, please let me know, but 
					understand that this is NOT the actual product, 
					it's the first pass at exploring what kinds of 
					issues will need to be resolved when implementing 
					an open source, cross-platform contest logging solution.
				</p>
			</header>
			<main>
				<i>Building a better mouse trap, one byte at a time.</i>
			</main>
			<footer>
				&copy; 2023 &mdash; Onno (VK6FLAB)
			</footer>
		</article>
	</dialog>
	<dialog id="preferences" close>
		<article>
			<header>
				<a href="#close" aria-label="Close" class="close" data-target="preferences" onClick="toggleModal(event)"></a>
				<h1>Preferences</h1>
				<p>
					This preferences pane does not work. It's
					here to show the kinds of things that could
					be set as a preference.
				</p>
			</header>
			<main>
				<form>
					<label>Station Callsign
						<input type="text" name="station" required>
					</label>

					<label>Operator Callsign
						<input type="text" name="operator">
					</label>

					<label>Maidenhead Locator
						<input type="text" name="maidenhead">
					</label>

					<fieldset>
						<legend>
							Bands
						</legend>
						<label>
							<input type="checkbox" name="bands" value="160m" checked>
							160m
						</label>
						<label>
							<input type="checkbox" name="bands" value="80m" checked>
							80m
						</label>
						<label>
							<input type="checkbox" name="bands" value="40m" checked>
							40m
						</label>
						<label>
							<input type="checkbox" name="bands" value="20m" checked>
							20m
						</label>
						<label>
							<input type="checkbox" name="bands" value="15m" checked>
							15m
						</label>
						<label>
							<input type="checkbox" name="bands" value="10m" checked>
							10m
						</label>
						<label>
							<input type="checkbox" name="bands" value="6m" checked>
							6m
						</label>
						<label>
							<input type="checkbox" name="bands" value="2m" checked>
							2m
						</label>
						<label>
							<input type="checkbox" name="bands" value="70cm" checked>
							70cm
						</label>
						<label>
							<input type="checkbox" name="bands" value="23cm" checked>
							23cm
						</label>
					</fieldset>

					<fieldset>
						<legend>
							Logging Alerts
						</legend>
						<label>Colour
							<input type="color" name="alertColor" value="#FF9966">
						</label>

						<label>Transparency
							<input type="range" min="0" max="255" value="128" name="alertTransparency">
						</label>

						<label>
							<input type="checkbox" name="errorHandling" role="switch" checked>
							Allow invalid entries to be logged
						</label>
					</fieldset>

					<label>
						<input type="checkbox" name="uppercae" role="switch" checked>
						Force callsigns to be entered as uppercase
					</label>

				</form>
			</main>
			<footer>
			<a href="#cancel"
				role="button"
				class="secondary"
				data-target="preferences"
				onClick="toggleModal(event)">
				Cancel
			</a>
			<a href="#save"
				role="button"
				data-target="preferences"
				onClick="toggleModal(event)" disabled>
				Save
			</a>
			</footer>
		</article>
	</dialog>
	<footer>
		<nav id="toggle-docs-navigation">
<!--
//fixme: This ID is required to prevent a JS error that comes from the commons.min.js from the PicoCSS website. This code is unlikely to be used in the actual project.
-->
			<ul>
				<li>GitHub</li>
				<li>Mastodon</li>
			</ul>
		</nav>
	</footer>
	<script type="text/javascript" src="js/main.js"></script>
	<script type="text/javascript" src="js/commons.min.js"></script> <!-- Source: https://github.com/picocss/pico/blob/master/docs/js/commons.min.js -->
	<script type="text/javascript" src="js/modal.js"></script> <!-- Source: https://github.com/picocss/pico/blob/master/docs/js/modal.js -->
	<script type="text/javascript" src="js/theme.switch.js"></script> <!-- Based on: https://www.thesitewizard.com/javascripts/change-style-sheets.shtml -->
</body>
</html>
